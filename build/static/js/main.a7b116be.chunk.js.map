{"version":3,"sources":["components/LoadingScreen.js","constants/userConstants.js","utils/axios.js","actions/userActions.js","screens/Login.js","components/Chatroom.js","constants/chatroomConstants.js","actions/chatroomActions.js","screens/Chatrooms.js","screens/CreateChatroom.js","screens/ChatPage.js","components/Header.js","App.js","store.js","reducers/userReducers.js","reducers/chatroomReducers.js","index.js"],"names":["LoadingScreen","className","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_VERIFY_REQUEST","USER_VERIFY_SUCCESS","USER_VERIFY_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_DETAILS_RESET","userInfo","JSON","parse","localStorage","getItem","instance","axios","create","baseURL","process","REACT_APP_URL","instanceBearer","headers","Authorization","token","instanceAutoLogin","logout","dispatch","removeItem","type","document","location","href","withRouter","useState","isSignUp","setIsSignUp","name","setName","email","setEmail","password","setPassword","useDispatch","userLogin","useSelector","state","loading","error","src","alt","value","onChange","e","target","placeholder","onClick","preventDefault","console","log","a","post","data","payload","setItem","stringify","response","message","register","login","Chatroom","id","user","image","description","history","useHistory","creator","setCreator","useEffect","then","username","catch","err","str","split","charAt","toUpperCase","substring","push","CHATROOM_LIST_REQUEST","CHATROOM_LIST_SUCCESS","CHATROOM_LIST_FAIL","CHATROOM_CREATE_REQUEST","CHATROOM_CREATE_SUCCESS","CHATROOM_CREATE_FAIL","CHATROOM_CREATE_RESET","listChatrooms","get","Chatrooms","loadingLogin","chatroomList","chatrooms","map","chatroom","_id","CreateChatroom","chatroomName","setChatroomName","chatroomImage","setChatroomImage","chatroomDescription","setChatroomDescription","success","chatroomCreate","submitHandler","ChatPage","socket","setupSoc","chatroomId","useParams","chatroomDetails","setChatroomDetails","messageData","setMessageData","oldMessages","setOldMessages","toggle","setToggle","settingSoc","setSettingSoc","setLoading","sendMessage","check","emit","key","AlwaysScrollToBottom","elementRef","useRef","current","scrollIntoView","ref","on","prevToggle","msg","i","onKeyUp","loggingOut","App","setSocket","setupSocket","newSocket","io","connect","query","setTimeout","path","exact","render","children","props","to","reducer","combineReducers","action","userRegister","userDetails","userVerify","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a7b116be.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../styles/LoadingScreen.css';\r\n\r\nfunction LoadingScreen() {\r\n\treturn (\r\n\t\t<div className=\"sk-circle\">\r\n\t\t\t<div className=\"sk-circle1 sk-child\"></div>\r\n\t\t\t<div className=\"sk-circle2 sk-child\"></div>\r\n\t\t\t<div className=\"sk-circle3 sk-child\"></div>\r\n\t\t\t<div className=\"sk-circle4 sk-child\"></div>\r\n\t\t\t<div className=\"sk-circle5 sk-child\"></div>\r\n\t\t\t<div className=\"sk-circle6 sk-child\"></div>\r\n\t\t\t<div className=\"sk-circle7 sk-child\"></div>\r\n\t\t\t<div className=\"sk-circle8 sk-child\"></div>\r\n\t\t\t<div className=\"sk-circle9 sk-child\"></div>\r\n\t\t\t<div className=\"sk-circle10 sk-child\"></div>\r\n\t\t\t<div className=\"sk-circle11 sk-child\"></div>\r\n\t\t\t<div className=\"sk-circle12 sk-child\"></div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default LoadingScreen;\r\n","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST';\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL';\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\r\n\r\nexport const USER_VERIFY_REQUEST = 'USER_VERIFY_REQUEST';\r\nexport const USER_VERIFY_SUCCESS = 'USER_VERIFY_SUCCESS';\r\nexport const USER_VERIFY_FAIL = 'USER_VERIFY_FAIL';\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST';\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS';\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL';\r\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET';\r\n","import axios from 'axios';\r\n\r\nconst userInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n\r\nconst instance = axios.create({\r\n\tbaseURL:\r\n\t\tprocess.env.REACT_APP_URL ||\r\n\t\t'https://chat-app-socket-2021.herokuapp.com/api/',\r\n});\r\n\r\nexport const instanceBearer = axios.create({\r\n\tbaseURL:\r\n\t\tprocess.env.REACT_APP_URL ||\r\n\t\t'https://chat-app-socket-2021.herokuapp.com/api/',\r\n\theaders: {\r\n\t\tAuthorization: 'Bearer ' + userInfo?.token,\r\n\t},\r\n});\r\n\r\nexport const instanceAutoLogin = axios.create({\r\n\tbaseURL:\r\n\t\tprocess.env.REACT_APP_URL ||\r\n\t\t'https://chat-app-socket-2021.herokuapp.com/api/',\r\n\theaders: {\r\n\t\tAuthorization: 'Bearer ' + userInfo?.token,\r\n\t},\r\n});\r\n\r\nexport default instance;\r\n","import axios from 'axios';\r\nimport {\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_VERIFY_REQUEST,\r\n\tUSER_VERIFY_FAIL,\r\n\tUSER_VERIFY_SUCCESS,\r\n} from '../constants/userConstants';\r\nimport instance, { instanceBearer } from '../utils/axios';\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst { data } = await instance.post('/user/login', {\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t});\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tdocument.location.href = '/';\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n\tlocalStorage.removeItem('userInfo');\r\n\tlocalStorage.removeItem('chatroomList');\r\n\tdispatch({ type: USER_LOGOUT });\r\n\tdispatch({ type: USER_DETAILS_RESET });\r\n\tdocument.location.href = '/login';\r\n};\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst { data } = await instance.post('/user/register', {\r\n\t\t\tname,\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t});\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tdocument.location.href = '/';\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const verifyUser = () => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_VERIFY_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst { data } = await instanceBearer.get(`/user/me`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_VERIFY_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tconst message =\r\n\t\t\terror.response && error.response.data.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message;\r\n\t\tif (message === 'Not authorized, token failed') {\r\n\t\t\tdispatch(logout());\r\n\t\t}\r\n\t\tdispatch({\r\n\t\t\ttype: USER_VERIFY_FAIL,\r\n\t\t\tpayload: message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getUserDetails = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/users/${id}`, config);\r\n\r\n\t\tconsole.log('Data: ', data);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tconst message =\r\n\t\t\terror.response && error.response.data.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message;\r\n\t\tif (message === 'Not authorized, token failed') {\r\n\t\t\tdispatch(logout());\r\n\t\t}\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_FAIL,\r\n\t\t\tpayload: message,\r\n\t\t});\r\n\t}\r\n};\r\n","import React, { useState } from 'react';\r\nimport '../styles/Login.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport LoadingScreen from '../components/LoadingScreen';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { login, register } from '../actions/userActions';\r\n\r\nfunction Login() {\r\n\tconst [isSignUp, setIsSignUp] = useState(false);\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { loading, error, userInfo } = userLogin;\r\n\r\n\tconst signIn = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(login(email, password));\r\n\t};\r\n\r\n\tconst signUp = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconsole.log(error);\r\n\t\tconsole.log(userInfo);\r\n\t\tdispatch(register(name, email, password));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"login\">\r\n\t\t\t<div className=\"logo\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc=\"https://icon-library.com/images/chat-icon-png/chat-icon-png-4.jpg\"\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t/>\r\n\t\t\t\t<p>OpenChat</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"ComName\">\r\n\t\t\t\t<span>Open to find your interests</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t{loading ? (\r\n\t\t\t\t<LoadingScreen />\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<form>\r\n\t\t\t\t\t\t{isSignUp ? (\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"loginInput\"\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Full name\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"loginInput\"\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"loginInput\"\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"loginButton\"\r\n\t\t\t\t\t\t\tonClick={isSignUp ? signUp : signIn}>\r\n\t\t\t\t\t\t\t{isSignUp ? 'Sign Up' : 'Sign In'}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tNot a member?{' '}\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"login__register\"\r\n\t\t\t\t\t\t\tonClick={() => setIsSignUp(!isSignUp)}>\r\n\t\t\t\t\t\t\t{isSignUp ? 'Login' : 'Register Now'}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(Login);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport '../styles/Chatroom.css';\r\nimport { instanceAutoLogin } from '../utils/axios';\r\n\r\nconst Chatroom = ({ id, user, name, image, description }) => {\r\n\tconst history = useHistory();\r\n\tconst [creator, setCreator] = useState('');\r\n\r\n\tuseEffect(() => {\r\n\t\tinstanceAutoLogin\r\n\t\t\t.post('/user/', { id: user })\r\n\t\t\t.then((response) => {\r\n\t\t\t\tsetCreator(response.data.username);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst capitalizeFirstChar = (str) =>\r\n\t\tstr.charAt(0).toUpperCase() + str.substring(1);\r\n\r\n\treturn (\r\n\t\t<div className=\"chatRoom\">\r\n\t\t\t<img className=\"chatRoomImg\" src={image} alt={name} />\r\n\t\t\t<p className=\"chatRoomName\">{name}</p>\r\n\t\t\t<p className=\"chatRoomDesc\">{description}</p>\r\n\t\t\t<p className=\"chatRoomCreated\">\r\n\t\t\t\t- {capitalizeFirstChar(creator.split(' ')[0])}\r\n\t\t\t</p>\r\n\t\t\t<div\r\n\t\t\t\tonClick={() => history.push(`/chatpage/${id}`)}\r\n\t\t\t\tclassName=\"joinChatRoom\">\r\n\t\t\t\tJoin\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Chatroom;\r\n","export const CHATROOM_LIST_REQUEST = 'CHATROOM_LIST_REQUEST';\r\nexport const CHATROOM_LIST_SUCCESS = 'CHATROOM_LIST_SUCCESS';\r\nexport const CHATROOM_LIST_FAIL = 'CHATROOM_LIST_FAIL';\r\n\r\nexport const CHATROOM_CREATE_REQUEST = 'CHATROOM_CREATE_REQUEST';\r\nexport const CHATROOM_CREATE_SUCCESS = 'CHATROOM_CREATE_SUCCESS';\r\nexport const CHATROOM_CREATE_FAIL = 'CHATROOM_CREATE_FAIL';\r\nexport const CHATROOM_CREATE_RESET = 'CHATROOM_CREATE_RESET';\r\n","import {\r\n\tCHATROOM_CREATE_FAIL,\r\n\tCHATROOM_CREATE_REQUEST,\r\n\tCHATROOM_CREATE_SUCCESS,\r\n\tCHATROOM_LIST_FAIL,\r\n\tCHATROOM_LIST_REQUEST,\r\n\tCHATROOM_LIST_SUCCESS,\r\n} from '../constants/chatroomConstants';\r\nimport { instanceBearer } from '../utils/axios';\r\nimport { logout } from './userActions';\r\n\r\nexport const listChatrooms = () => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: CHATROOM_LIST_REQUEST });\r\n\r\n\t\tconst { data } = await instanceBearer.get(`/chatroom`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: CHATROOM_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: CHATROOM_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const createChatroom = (name, image, description) => async (\r\n\tdispatch\r\n) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: CHATROOM_CREATE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst { data } = await instanceBearer.post(`/chatroom`, {\r\n\t\t\tname,\r\n\t\t\timage,\r\n\t\t\tdescription,\r\n\t\t});\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: CHATROOM_CREATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tdispatch(listChatrooms());\r\n\t} catch (error) {\r\n\t\tconst message =\r\n\t\t\terror.response && error.response.data.message\r\n\t\t\t\t? error.response.data.message\r\n\t\t\t\t: error.message;\r\n\t\tif (message === 'Not authorized, token failed') {\r\n\t\t\tdispatch(logout());\r\n\t\t}\r\n\t\tdispatch({\r\n\t\t\ttype: CHATROOM_CREATE_FAIL,\r\n\t\t\tpayload: message,\r\n\t\t});\r\n\t}\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport LoadingScreen from '../components/LoadingScreen';\r\nimport '../styles/Chatrooms.css';\r\nimport Chatroom from '../components/Chatroom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listChatrooms } from '../actions/chatroomActions';\r\n\r\nfunction Chatrooms() {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { loading: loadingLogin, userInfo } = userLogin;\r\n\r\n\tconst chatroomList = useSelector((state) => state.chatroomList);\r\n\tconst { loading, chatrooms } = chatroomList;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo?.user) {\r\n\t\t\tdispatch(listChatrooms());\r\n\t\t}\r\n\t}, [dispatch, userInfo]);\r\n\r\n\treturn (\r\n\t\t<div className=\"chatroomsContainer\">\r\n\t\t\t{loading || loadingLogin ? (\r\n\t\t\t\t<LoadingScreen />\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"chatRoomsList\">\r\n\t\t\t\t\t<div className=\"chatList\">\r\n\t\t\t\t\t\t<p className=\"chatListHeader\">Public Chatrooms</p>\r\n\t\t\t\t\t\t<div className=\"chatListRooms\">\r\n\t\t\t\t\t\t\t{chatrooms?.map((chatroom) => (\r\n\t\t\t\t\t\t\t\t<Chatroom\r\n\t\t\t\t\t\t\t\t\tkey={chatroom._id}\r\n\t\t\t\t\t\t\t\t\tid={chatroom._id}\r\n\t\t\t\t\t\t\t\t\tuser={chatroom.user}\r\n\t\t\t\t\t\t\t\t\tname={chatroom.name}\r\n\t\t\t\t\t\t\t\t\timage={chatroom.image}\r\n\t\t\t\t\t\t\t\t\tdescription={chatroom.description}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Chatrooms;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport { createChatroom } from '../actions/chatroomActions';\r\nimport '../styles/createChatroom.css';\r\n\r\nconst CreateChatroom = () => {\r\n\tconst [chatroomName, setChatroomName] = useState('');\r\n\tconst [chatroomImage, setChatroomImage] = useState('');\r\n\tconst [chatroomDescription, setChatroomDescription] = useState('');\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst chatroomCreate = useSelector((state) => state.chatroomCreate);\r\n\tconst { success } = chatroomCreate;\r\n\r\n\tconst resetForm = () => {\r\n\t\tsetChatroomName('');\r\n\t\tsetChatroomDescription('');\r\n\t\tsetChatroomImage('');\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (success) {\r\n\t\t\tresetForm();\r\n\t\t}\r\n\t}, [success]);\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tcreateChatroom(chatroomName, chatroomImage, chatroomDescription)\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"createChatContainer\">\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"createChatGoBack\"\r\n\t\t\t\tonClick={() => history.push('/')}>\r\n\t\t\t\tGo Back\r\n\t\t\t</button>\r\n\t\t\t<div className=\"createChat\">\r\n\t\t\t\t<h3>Create New Chatroom</h3>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tvalue={chatroomName}\r\n\t\t\t\t\t\tonChange={(e) => setChatroomName(e.target.value)}\r\n\t\t\t\t\t\tplaceholder=\"Enter Chatroom Name\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tvalue={chatroomImage}\r\n\t\t\t\t\t\tonChange={(e) => setChatroomImage(e.target.value)}\r\n\t\t\t\t\t\tplaceholder=\"Enter Chatroom Pic URL\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tvalue={chatroomDescription}\r\n\t\t\t\t\t\tonChange={(e) => setChatroomDescription(e.target.value)}\r\n\t\t\t\t\t\tplaceholder=\"Enter Chatroom Description\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"createChat__button\"\r\n\t\t\t\t\t\tonClick={(e) => submitHandler(e)}>\r\n\t\t\t\t\t\tCreate\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CreateChatroom;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { instanceAutoLogin } from '../utils/axios';\r\nimport '../styles/ChatPage.css';\r\nimport LoadingScreen from '../components/LoadingScreen';\r\n\r\nfunction ChatPage({ socket, setupSoc }) {\r\n\tconst { id: chatroomId } = useParams();\r\n\tconst [chatroomDetails, setChatroomDetails] = useState(null);\r\n\tconst [messageData, setMessageData] = useState('');\r\n\tconst [oldMessages, setOldMessages] = useState([]);\r\n\tconst [toggle, setToggle] = useState(false);\r\n\tconst [settingSoc, setSettingSoc] = useState(false);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo: user } = userLogin;\r\n\tconst history = useHistory();\r\n\r\n\tconst keyCheck = true;\r\n\r\n\tlet data = {\r\n\t\tchatroomId,\r\n\t};\r\n\r\n\tconst getChatroomName = () => {\r\n\t\tsetLoading(true);\r\n\t\tinstanceAutoLogin\r\n\t\t\t.post('/chatroom/name', data)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log(response.data);\r\n\t\t\t\tsetChatroomDetails(response.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst getAllMessages = () => {\r\n\t\tinstanceAutoLogin\r\n\t\t\t.post('/message/messages', { chatroomId })\r\n\t\t\t.then((response) => {\r\n\t\t\t\tsetOldMessages(response.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetChatroomName();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAllMessages();\r\n\t\t// eslint-disable-next-line\r\n\t}, [toggle]);\r\n\r\n\tconst sendMessage = (e, check) => {\r\n\t\te.preventDefault();\r\n\t\tif (socket && !check) {\r\n\t\t\tsocket.emit('ChatroomMessage', chatroomId, messageData);\r\n\t\t\tsetMessageData('');\r\n\t\t}\r\n\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\tif (socket) {\r\n\t\t\t\tsocket.emit('ChatroomMessage', chatroomId, messageData);\r\n\t\t\t\tsetMessageData('');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst AlwaysScrollToBottom = () => {\r\n\t\tconst elementRef = useRef();\r\n\t\tuseEffect(() => elementRef.current.scrollIntoView());\r\n\t\treturn <div ref={elementRef} />;\r\n\t};\r\n\r\n\tconst capitalizeFirstChar = (str) =>\r\n\t\tstr.charAt(0).toUpperCase() + str.substring(1);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (socket) {\r\n\t\t\tconsole.log('socket is here');\r\n\t\t\tsocket.emit('joinRoom', chatroomId);\r\n\r\n\t\t\tsocket.on('newMessage', () => {\r\n\t\t\t\tsetToggle((prevToggle) => !prevToggle);\r\n\t\t\t\tsetMessageData('');\r\n\t\t\t});\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tsocket.emit('leaveRoom', chatroomId);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tconsole.log('setting up socket again');\r\n\t\t\tsetSettingSoc(!settingSoc);\r\n\t\t\tsetupSoc();\r\n\t\t}\r\n\r\n\t\t// eslint-disable-next-line\r\n\t}, [settingSoc]);\r\n\r\n\treturn (\r\n\t\t<div className=\"chatBox__container\">\r\n\t\t\t<div className=\"chatBoxMain\">\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<LoadingScreen />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className=\"chatBoxMiddle\">\r\n\t\t\t\t\t\t\t<div className=\"chatBox\">\r\n\t\t\t\t\t\t\t\t<div className=\"chatHead\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"backButton\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => history.push('/')}>\r\n\t\t\t\t\t\t\t\t\t\tBack\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tWelcome to{' '}\r\n\t\t\t\t\t\t\t\t\t\t{chatroomDetails?.chatroom?.name}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"chatBody\">\r\n\t\t\t\t\t\t\t\t\t{oldMessages.map((msg, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<div key={i} className=\"messages\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuser.user.id === msg.user\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'myName'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'otherName'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{msg.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuser.user.id === msg.user\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'myMessage'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'OtherMessage'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{msg.message}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t<AlwaysScrollToBottom />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"chatInput\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tvalue={messageData}\r\n\t\t\t\t\t\t\t\t\t\tonKeyUp={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsendMessage(e, keyCheck)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetMessageData(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"New Message\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<button onClick={(e) => sendMessage(e)}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-paper-plane\"></i>\r\n\t\t\t\t\t\t\t\t\t\t<p>Send</p>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"chatBoxRight\">\r\n\t\t\t\t\t\t\t<div className=\"chatBoxImgContainer\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"chatBoxImg\"\r\n\t\t\t\t\t\t\t\t\tsrc={chatroomDetails?.chatroom?.image}\r\n\t\t\t\t\t\t\t\t\talt={chatroomDetails?.chatroom?.name}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<p className=\"chatBoxDesc\">\r\n\t\t\t\t\t\t\t\t{chatroomDetails?.chatroom?.description}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"chatBoxAdmin\">\r\n\t\t\t\t\t\t\t\tRoom Owner:{' '}\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{chatroomDetails?.username &&\r\n\t\t\t\t\t\t\t\t\t\tcapitalizeFirstChar(\r\n\t\t\t\t\t\t\t\t\t\t\tchatroomDetails.username.split(\r\n\t\t\t\t\t\t\t\t\t\t\t\t' '\r\n\t\t\t\t\t\t\t\t\t\t\t)[0]\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ChatPage;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory, withRouter } from 'react-router-dom';\r\nimport { logout } from '../actions/userActions';\r\nimport '../styles/Header.css';\r\n\r\nfunction Header() {\r\n\tconst dispatch = useDispatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst loggingOut = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(logout());\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"header\">\r\n\t\t\t<div className=\"headerLeft\" onClick={() => history.push('/')}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc=\"https://icon-library.com/images/chat-icon-png/chat-icon-png-4.jpg\"\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t/>\r\n\t\t\t\t<p>OpenChat</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"headerNavItems\"\r\n\t\t\t\tonClick={() => history.push('/create')}>\r\n\t\t\t\t<i className=\"fas fa-plus-circle\"></i>\r\n\t\t\t\t<p>Create Chatroom</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"headerNavItems\"\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\tloggingOut(e);\r\n\t\t\t\t}}>\r\n\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\r\n\t\t\t\t<p>Log Out</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(Header);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './styles/App.css';\r\nimport Login from './screens/Login';\r\nimport LoadingScreen from './components/LoadingScreen';\r\nimport Chatrooms from './screens/Chatrooms';\r\nimport CreateChatroom from './screens/CreateChatroom';\r\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\r\nimport ChatPage from './screens/ChatPage';\r\nimport { io } from 'socket.io-client';\r\nimport Header from './components/Header';\r\nimport { verifyUser } from './actions/userActions';\r\n\r\nfunction App() {\r\n\tconst [socket, setSocket] = useState(null);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { loading, userInfo } = userLogin;\r\n\r\n\tconst setupSocket = () => {\r\n\t\tconst token = userInfo?.token;\r\n\t\tif (token && !socket) {\r\n\t\t\tconst newSocket = io.connect(\r\n\t\t\t\tprocess.env.REACT_APP_URL ||\r\n\t\t\t\t\t'https://chat-app-socket-2021.herokuapp.com',\r\n\t\t\t\t{\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\ttoken: userInfo?.token,\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tnewSocket.on('disconnect', () => {\r\n\t\t\t\tsetSocket(null);\r\n\t\t\t\tsetTimeout(setupSocket, 6000);\r\n\t\t\t});\r\n\r\n\t\t\tnewSocket.on('connect', () => {\r\n\t\t\t\tconsole.log('Success: Socket Connected!');\r\n\t\t\t});\r\n\r\n\t\t\tsetSocket(newSocket);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (localStorage.getItem('userInfo')) {\r\n\t\t\tdispatch(verifyUser());\r\n\t\t}\r\n\t}, [dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetupSocket();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<div>\r\n\t\t\t\t<BrowserRouter>\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<LoadingScreen />\r\n\t\t\t\t\t) : !userInfo ? (\r\n\t\t\t\t\t\t<Login />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Header />\r\n\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\tpath=\"/\"\r\n\t\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\t\trender={() => <Chatrooms socket={socket} />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\tpath=\"/create\"\r\n\t\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\t\trender={() => <CreateChatroom />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\tpath=\"/login\"\r\n\t\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\t\tchildren={() => (\r\n\t\t\t\t\t\t\t\t\t\t<Login setupSoc={setupSocket} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\tpath=\"/chatpage/:id\"\r\n\t\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\t\trender={(props) => (\r\n\t\t\t\t\t\t\t\t\t\t<ChatPage\r\n\t\t\t\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\t\t\t\tsocket={socket}\r\n\t\t\t\t\t\t\t\t\t\t\tsetupSoc={setupSocket}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</BrowserRouter>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport {\r\n\tuserLoginReducer,\r\n\tuserRegisterReducer,\r\n\tuserDetailsReducer,\r\n\tuserVerifyReducer,\r\n} from './reducers/userReducers';\r\nimport {\r\n\tchatroomCreateReducer,\r\n\tchatroomListReducer,\r\n} from './reducers/chatroomReducers';\r\n\r\nconst reducer = combineReducers({\r\n\tuserLogin: userLoginReducer,\r\n\tuserRegister: userRegisterReducer,\r\n\tuserDetails: userDetailsReducer,\r\n\tuserVerify: userVerifyReducer,\r\n\tchatroomList: chatroomListReducer,\r\n\tchatroomCreate: chatroomCreateReducer,\r\n});\r\nconst userInfoFromStorage = localStorage.getItem('userInfo')\r\n\t? JSON.parse(localStorage.getItem('userInfo'))\r\n\t: null;\r\n\r\nconst initialState = {\r\n\tuserLogin: { userInfo: userInfoFromStorage },\r\n};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n\treducer,\r\n\tinitialState,\r\n\tcomposeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import {\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_VERIFY_REQUEST,\r\n\tUSER_VERIFY_SUCCESS,\r\n\tUSER_VERIFY_FAIL,\r\n} from '../constants/userConstants';\r\n\r\nexport const userLoginReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LOGIN_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_LOGIN_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_LOGIN_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LOGOUT:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_REGISTER_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_REGISTER_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_REGISTER_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LOGOUT:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userVerifyReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_VERIFY_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_VERIFY_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, userInfo: action.payload };\r\n\t\tcase USER_VERIFY_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DETAILS_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, user: action.payload };\r\n\t\tcase USER_DETAILS_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_DETAILS_RESET:\r\n\t\t\treturn { user: {} };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tCHATROOM_CREATE_FAIL,\r\n\tCHATROOM_CREATE_REQUEST,\r\n\tCHATROOM_CREATE_RESET,\r\n\tCHATROOM_CREATE_SUCCESS,\r\n\tCHATROOM_LIST_FAIL,\r\n\tCHATROOM_LIST_REQUEST,\r\n\tCHATROOM_LIST_SUCCESS,\r\n} from '../constants/chatroomConstants';\r\n\r\nexport const chatroomListReducer = (state = { chatrooms: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase CHATROOM_LIST_REQUEST:\r\n\t\t\treturn { loading: true, chatrooms: [] };\r\n\t\tcase CHATROOM_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tchatrooms: action.payload,\r\n\t\t\t};\r\n\t\tcase CHATROOM_LIST_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const chatroomCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase CHATROOM_CREATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase CHATROOM_CREATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, chatroom: action.payload };\r\n\t\tcase CHATROOM_CREATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase CHATROOM_CREATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport App from './App';\r\nimport store from './store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}